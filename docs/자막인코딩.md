# 🎯 자막 인코딩 웹페이지 기획서

## ✅ 목적

- 지정된 루트 디렉토리에서 **미디어 파일과 이름이 일치하는 자막만** 대상으로 처리
- 모든 자막을 **UTF-8로 변환**하여 웹/서버/모바일 환경에서의 자막 깨짐 방지
- 다중 자막(SMI)은 영어 자막만 분리하여 `.srt`로 저장

---

## 📁 처리 대상 기준

- **미디어 확장자**: `.mp4`, `.mkv`, `.avi`, `.mov`, `.mp3`
- **자막 확장자**: `.srt`, `.vtt`, `.smi`
- **파일명 매칭 기준**: `video1.mp4` ←→ `video1.smi`

---

## 🧱 주요 기능 요약

### 1. 미디어-자막 매칭

- 루트 디렉토리에서 미디어 파일을 기준으로 일치하는 자막 검색

### 2. 자막 인코딩 자동 감지 및 변환

- `charset-normalizer`를 사용한 인코딩 감지
- 감지된 인코딩으로 읽은 후, 깨진 문자 (`�`)가 없을 경우 UTF-8로 저장
- 기본 덮어쓰기 저장, 옵션에 따라 `_utf8.srt`로 별도 저장 가능

### 3. 다중 자막(SMI) 처리

- `<P Class=ENCC>` 태그만 추출하여 영어 자막 분리
- `.srt` 파일로 저장 (`video1_en.srt`)
- 추후 다국어 분리 기능 확장 가능 (KRCC, JPCC 등)

### 4. 웹 UI 기능

- 루트 디렉토리 지정 (설정값)
- 미디어-자막 매칭 목록 자동 표시
- 변환 대상별 상태 표시:
  - ✅ 성공
  - ❌ 실패
  - ⚠️ 깨짐
- 변환 제어 버튼:
  - 전체 변환 실행
  - 깨진 자막만 재시도
  - 다중 자막만 처리

---

## 🖥 예시 화면 구성
